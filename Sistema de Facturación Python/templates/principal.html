<!DOCTYPE html>
<html lang="es">
    <head>
        <meta charset="UTF-8">
        <title>Facturación Electrónica</title>
        <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
        <link rel="stylesheet" href="/static/style.css">
    
    </head>
    <body>
    <div class="container mt-4">
        <h1>Facturación Electrónica</h1>
        
        <div class="mb-3">
            <a href="nuevo_comprobante" class="btn btn-primary mb-3">
                <i class="material-icons">library_add</i>Crear Comprobante</a>
            <a href="nuevo_cliente" class="btn btn-primary mb-3">
                <i class="material-icons">person_add</i>Crear Cliente</a>
        </div>

        <table class="table">
            <thead>
                <tr>
                    <th>Fecha de emisión</th>
                    <th>Tipo</th>
                    <th>Serie y número</th>
                    <th>Receptor</th>
                    <th>Total</th>
                </tr>
            </thead>
            <tbody>
                {% for item in data %}
                <tr data-num-factura="{{ item.serie_numero }}" style="cursor: pointer;">
                    <td>{{ item.fecha_emision }}</td>
                    <td>{{ item.tipo }}</td>
                    <td>{{ item.serie_numero }}</td>
                    <td>{{ item.receptor }}</td>
                    <td>{{ item.TOTAL }}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            const rows = document.querySelectorAll("table tbody tr");
            rows.forEach(row => {
                row.addEventListener("click", function() {
                    const numFactura = this.dataset.numFactura;
                    window.location.href = `/factura/${numFactura}`;
                });
            });
        });
        </script>
    </body>
    </html>
    
    

